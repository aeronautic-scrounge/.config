# Specs Directory

Implementation plans, research reports, summaries, and artifacts for .claude/ agentic workflow system.

## Directory Structure

```
specs/
├── artifacts/    Lightweight research outputs (60-80% context reduction)
├── plans/        Implementation plans with phases and tasks
├── reports/      Research and investigation documentation
├── standards/    Project standards and protocols
└── summaries/    Post-implementation retrospectives
```

## Subdirectories

### artifacts/
Intermediate research outputs passed by reference:
- Research findings stored separately from plans
- Reduces context size by 60-80% (Phase 2, Plan 019)
- Lightweight IDs instead of full content
- Automatic cleanup and organization

See [artifacts/README.md](artifacts/README.md)

### plans/
Implementation plans created by `/plan` or `/plan-wizard`:
- Phase breakdown with tasks
- Success criteria and risks
- Testing requirements
- Standards compliance
- **Adaptive structure**: Three tiers based on complexity (see below)

**Current**: 25+ plans (001-025+)
**Latest**: Plan 024 - Adaptive Plan Structure System (Complete)

#### Adaptive Plan Structure Tiers

Plans automatically select one of three organizational structures based on complexity:

**Tier 1: Single File** (Complexity: <50)
- **Structure**: `NNN_plan_name.md`
- **Use Case**: Simple features, <10 tasks, <4 phases
- **Example**: Button styling fix, config update
- **Format**: All content in one markdown file

**Tier 2: Phase Directory** (Complexity: 50-200)
- **Structure**: `NNN_plan_name/`
  - `NNN_plan_name.md` (overview with phase summaries)
  - `phase_1_name.md` (detailed tasks for phase 1)
  - `phase_2_name.md` (detailed tasks for phase 2)
  - etc.
- **Use Case**: Medium features, 10-50 tasks, 4-10 phases
- **Example**: Dashboard component, API integration
- **Format**: Directory with overview + phase files

**Tier 3: Hierarchical Tree** (Complexity: ≥200)
- **Structure**: `NNN_plan_name/`
  - `NNN_plan_name.md` (overview)
  - `phase_1_name/` (phase directory)
    - `phase_1_overview.md`
    - `stage_1_name.md`
    - `stage_2_name.md`
  - `phase_2_name/` (phase directory)
    - etc.
- **Use Case**: Complex features, >50 tasks, >10 phases
- **Example**: Multi-module refactor, full application feature
- **Format**: Nested hierarchy with stage files

**Complexity Scoring**:
```
score = (tasks × 1.0) + (phases × 5.0) + (hours × 0.5) + (dependencies × 2.0)

Tier 1: score < 50
Tier 2: 50 ≤ score < 200
Tier 3: score ≥ 200
```

**Tier Migration**: Use `/migrate-plan` to convert between tiers as complexity changes

### reports/
Research documentation from `/report` command:
- Technology evaluations
- Best practices investigations
- Feasibility analyses
- Problem diagnostics

**Current**: 25+ reports (001-025+)

### standards/
Project standards and protocols:
- Command protocols
- Agent integration patterns
- Quality checklists
- Development guidelines

### summaries/
Post-implementation retrospectives:
- What was implemented
- Lessons learned
- Metrics and outcomes
- Follow-up recommendations

**Current**: 15+ summaries

## File Naming Convention

All files use incremental numbering:
```
NNN_descriptive_name.md
```

- `NNN`: Three-digit number with leading zeros (001, 002, 003...)
- Increment from highest existing number in category
- Use lowercase with underscores
- Examples: `019_agentic_workflow_enhancements.md`

## Usage Patterns

### Creating Plans
```bash
# Manual planning
/plan "Feature description" [report-paths...]

# Interactive wizard
/plan-wizard

# From template (60-80% faster)
/plan-from-template <template-name>
```

### Creating Reports
```bash
# Research topic
/report "Authentication best practices for Lua"
→ Creates specs/reports/NNN_authentication_best_practices.md
```

### Creating Summaries
Automatically generated by `/implement` on completion:
```bash
/implement specs/plans/019_agentic_workflow.md
→ Creates specs/summaries/019_agentic_workflow_summary.md
```

## Navigation

### Subdirectories
- [artifacts/](artifacts/README.md) - Research outputs
- [plans/](plans/) - Implementation plans
- [reports/](reports/) - Research reports
- [standards/](standards/) - Project standards
- [summaries/](summaries/) - Implementation summaries

### Related
- [← Parent Directory](../README.md)
- [commands/](../commands/README.md) - Commands creating specs
- [CLAUDE.md](../../CLAUDE.md) - Specs protocol documentation

## Standards

All specs follow documentation standards:
- **NO emojis** in file content
- **Unicode box-drawing** for diagrams
- **Clear structure** with headers and sections
- **CommonMark** specification compliance

See [/home/benjamin/.config/nvim/docs/GUIDELINES.md](../../nvim/docs/GUIDELINES.md)